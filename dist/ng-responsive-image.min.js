/**!
 * ng-responsive-image - v0.1.6 - 2015-09-17
 *
 * Copyright (c) 2015 [object Object]
 * Distributed under the MIT licence
 */
!function(a){"use strict";function b(a,b){return function(a,c,d,e){if(!(a&&c&&d&&e))throw new Error("r-src must be provided an src object, a width and a ratio.");var f=Object.keys(a).map(function(b){var c=b.match(/^url_(\d+)x(\d+)$/);if(!c)return null;var d=c[1],e=c[2],f=d/e;if(!d||!e||!f)throw new Error("Unexpected image object. rSrc needs keys of the form url_000x000 with urls as values");return[f,d,e,a[b]]}).filter(function(a){return!!a}).filter(function(a){return+a[2]>=d*b}).filter(function(a){return+a[1]>=c*b}).sort(function(a,b){return a[0]-b[0]}).filter(function(a,b,c){return c.filter(function(a){return a[0]===e})[0]?a[0]===e:!0}).reduceRight(function(a,b){return a.length>0&&+b[0]<a[0][0]?a:a.concat([b])},[]).reduce(function(a,b){return a?+b[1]<+a[1]?b:a:b},!1);if(!f)throw new Error("No image in src fitting width ("+c+"), pixel density ("+b+"), & ratio ("+e+") constraints");return f[3]}}a.factory("matchImage",b),b.$inject=["$window","RSrcPixelDensity"]}(angular.module("ng-responsive-image.matcher",["ng-responsive-image.pixel-density"])),function(a){"use strict";function b(){var a=window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 3), only screen and (min-resolution: 3dppx), only screen and (min-resolution: 288dpi)").matches?3:window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (min-resolution: 1.5dppx), only screen and (min-resolution: 144dpi)").matches?2:1;this.provideCustom=function(b){if("number"==typeof b)a=b;else{if("function"!=typeof b)throw new Error("RSrcPixelDensity.provideCustom must be passed either a pixel density as a number or a function to calculate it.");a=b()}},this.$get=function(){return a}}a.provider("RSrcPixelDensity",b)}(angular.module("ng-responsive-image.pixel-density",[])),function(a){"use strict";function b(a,b){return{restrict:"A",scope:{src:"=rSrc"},link:function(a,c,d){function e(){m||!a.src||h(a.src)||!a.src.$promise&&!a.src.then?m||h(a.src)?h(a.src)&&(m&&m(),f()):m=a.$watch("src",e):(a.src.$promise||a.src).then(function(){if(!h(a.src))throw new Error("Image object does not contain any appropriate url_ properties");f()})}function f(){m=a.$watch("src."+h(a.src),function b(c,d){d&&!c&&(m(),m=a.$watch("src."+h(a.src),b)),g()})}function g(){var d=b(a.src,j,k,l);c.attr("background")?c.css("background-image","url("+d+")"):c.attr("src",d)}function h(a){for(var b in a)if(0===b.indexOf("url_"))return b}function i(){if(j=+d.width||c[0].clientWidth||d.height*d.ratio||c[0].clientHeight*d.ratio,!j)throw new Error("rSrc needs either a width or an element with a CSS applied width");if(k=+d.height||d.width/d.ratio||c[0].clientHeight||c[0].clientWidth/d.ratio,!k)throw new Error("rSrc needs either a height, a ratio or an element with a CSS applied height");if(l=+d.ratio||(d.height?j/d.height:j/c[0].clientHeight),!l||l===1/0)throw new Error("rSrc needs either a height, a ratio, or an element with a CSS applied height")}var j,k,l,m;i(),e()}}}a.directive("rSrc",b),b.$inject=["$q","matchImage"]}(angular.module("ng-responsive-image",["ng-responsive-image.matcher"]));